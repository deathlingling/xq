<!DOCTYPE html>
<html lang="">
<head>
    <title>盲盒</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
        }
        form {
            background: #f0f0f0;
            padding: 40px;
            border-radius: 8px;
        }
        input, select {
            margin-bottom: 10px;
            padding: 10px;
            width: 100%;
        }
        .result-box {
        margin-top: 20px;
        border: 1px solid #ccc;
        padding: 15px;
        border-radius: 8px;
        background-color: #f9f9f9;
        min-height: 50px;
        word-wrap: break-word;
    }
    </style>
</head>
<body>
    <form id="myForm">
        <h2>放</h2>
        <label for="name">姓名:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="wechat_id">微信号:</label><br>
        <input type="text" id="wechat_id" name="wechat_id"><br>
         <label for="location">省份:</label><br>
                <select id="location" name="location">
                    <option value="河北省">河北省</option>
                    <option value="山西省">山西省</option>
                    <option value="内蒙古自治区">内蒙古自治区</option>
                    <option value="辽宁省">辽宁省</option>
                    <option value="吉林省">吉林省</option>
                    <option value="黑龙江省">黑龙江省</option>
                    <option value="江苏省">江苏省</option>
                    <option value="浙江省">浙江省</option>
                    <option value="安徽省">安徽省</option>
                    <option value="福建省">福建省</option>
                    <option value="江西省">江西省</option>
                    <option value="山东省">山东省</option>
                    <option value="河南省">河南省</option>
                    <option value="湖北省">湖北省</option>
                    <option value="湖南省">湖南省</option>
                    <option value="广东省">广东省</option>
                    <option value="广西壮族自治区">广西壮族自治区</option>
                    <option value="海南省">海南省</option>
                    <option value="四川省">四川省</option>
                    <option value="贵州省">贵州省</option>
                    <option value="云南省">云南省</option>
                    <option value="西藏自治区">西藏自治区</option>
                    <option value="陕西省">陕西省</option>
                    <option value="甘肃省">甘肃省</option>
                    <option value="青海省">青海省</option>
                    <option value="宁夏回族自治区">宁夏回族自治区</option>
                    <option value="新疆维吾尔自治区">新疆维吾尔自治区</option>
                    <option value="台湾省">台湾省</option>
                    <option value="香港特别行政区">香港特别行政区</option>
                    <option value="澳门特别行政区">澳门特别行政区</option>
                </select><br>
        <label for="gender">性别:</label><br>
        <select id="gender" name="gender">
            <option value="男">男</option>
            <option value="女">女</option>
        </select><br>
        <input type="submit" value="提交">

    </form>
      <div>  </div>
    <div>
    <form id="lotteryForm">
        <h2>抽</h2>
         <label for="lotteryLocation">省份:</label><br>
                <select id="lotteryLocation" name="lotteryLocation">
                    <option value="河北省">河北省</option>
                    <option value="山西省">山西省</option>
                    <option value="内蒙古自治区">内蒙古自治区</option>
                    <option value="辽宁省">辽宁省</option>
                    <option value="吉林省">吉林省</option>
                    <option value="黑龙江省">黑龙江省</option>
                    <option value="江苏省">江苏省</option>
                    <option value="浙江省">浙江省</option>
                    <option value="安徽省">安徽省</option>
                    <option value="福建省">福建省</option>
                    <option value="江西省">江西省</option>
                    <option value="山东省">山东省</option>
                    <option value="河南省">河南省</option>
                    <option value="湖北省">湖北省</option>
                    <option value="湖南省">湖南省</option>
                    <option value="广东省">广东省</option>
                    <option value="广西壮族自治区">广西壮族自治区</option>
                    <option value="海南省">海南省</option>
                    <option value="四川省">四川省</option>
                    <option value="贵州省">贵州省</option>
                    <option value="云南省">云南省</option>
                    <option value="西藏自治区">西藏自治区</option>
                    <option value="陕西省">陕西省</option>
                    <option value="甘肃省">甘肃省</option>
                    <option value="青海省">青海省</option>
                    <option value="宁夏回族自治区">宁夏回族自治区</option>
                    <option value="新疆维吾尔自治区">新疆维吾尔自治区</option>
                    <option value="台湾省">台湾省</option>
                    <option value="香港特别行政区">香港特别行政区</option>
                    <option value="澳门特别行政区">澳门特别行政区</option>
                </select><br>
        <label for="lotteryGender">性别:</label><br>
        <select id="lotteryGender" name="lotteryGender">
            <option value="男">男</option>
            <option value="女">女</option>
        </select><br>
        <input type="button" value="开始抽" onclick="drawLottery()">
    </form>
    <div id="lotteryResult"></div>
</div>
    <div id="result"></div>
    <script>
        document.getElementById('myForm').addEventListener('submit', function(event) {
            event.preventDefault();

            var data = {
                name: document.getElementById('name').value,
                wechat_id: document.getElementById('wechat_id').value,
                location: document.getElementById('location').value,
                gender: document.getElementById('gender').value,
            };

            fetch('/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            }).then(function(response) {
                return response.json();
            }).then(function(data) {
                document.getElementById('result').textContent = JSON.stringify(data);
            });
        });
        function drawLottery() {
        var lotteryData = {
            location: document.getElementById('lotteryLocation').value,
            gender: document.getElementById('lotteryGender').value,
        };

        // 替换为您的抽奖逻辑 API 地址
        fetch('/lottery', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(lotteryData),
        }).then(function(response) {
            return response.json();
        }).then(function(data) {
            document.getElementById('lotteryResult').innerHTML = '<strong>结果：</strong>' +
            '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
    });
    }
    </script>
</body>
</html>
